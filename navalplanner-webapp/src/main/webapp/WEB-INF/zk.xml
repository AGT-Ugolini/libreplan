<zk>
    <log>
        <log-base></log-base>
    </log>
    <error-page>
        <exception-type>java.lang.Throwable
        </exception-type>
        <location>/common/event_error.zul</location>
    </error-page>

    <!--  Spring Security -->
    <listener>
	   <description>ThreadLocal Synchronization Listener</description>
	   <listener-class>org.zkoss.zkplus.util.ThreadLocalListener</listener-class>
    </listener>

	<preference>
		<name>ThreadLocal</name>
		<value>
			org.springframework.security.context.ThreadLocalSecurityContextHolderStrategy=contextHolder
		</value>
	</preference>
    <!-- Look org.zkoss.zk.ui.Desktop.setServerPushDelay(int, int, int) -->
	<preference>
        <name>PollingServerPush.delay.min</name>
        <value>100</value>
    </preference>

    <preference>
        <name>PollingServerPush.delay.max</name>
        <value>1000</value>
    </preference>

    <preference>
        <name>PollingServerPush.delay.factor</name>
        <value>2</value>
    </preference>

    <preference>
        <name>ThreadLocal</name>
        <value>
            org.springframework.security.context.ThreadLocalSecurityContextHolderStrategy=contextHolder
        </value>
    </preference>

</zk>
