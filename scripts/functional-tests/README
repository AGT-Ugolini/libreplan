Functional Tests
================

.. sectnum::

:Author: Pablo Fernández de la Cigoña Nóvoa
:Contact: pcigonha@igalia.com
:Date: 08/08/2011
:Copyright:
  Some rights reserved. This document is distributed under the Creative
  Commons Attribution-ShareAlike 3.0 licence, available in
  http://creativecommons.org/licenses/by-sa/3.0/.
:Abstract:
  Basic documentation about LibrePlan functional tests usage.


.. contents:: Table of Contents


Introduction
------------

Inside ``scripts/functional-tests/`` folder of LibrePlan source code, you can find
several scripts to test the correct performance of LibrePlan. There are functional tests
for all all the data types and all most all the administration options.

Every file is called like ``<menu-option>_test.sah`` and represent all kind of tests made for
each individual option from the menu, all the files includes all the test to be done,
but the are some common tests for all of them:

* Create ``<menu-option>``
* Create ``<menu-option>`` with duplicate type (most be failure)
* Create ``<menu-option>`` with empty type (most be failure)
* Create ``<menu-option>`` with duplicate name (most be failure)
* Edit ``<menu-option>``
* Delete ``<menu-option>``


Requirements
------------

To run these test it's necessary to have installed `Sahi <http://sahi.co.in/>`_.

You can download it at:
http://sourceforge.net/projects/sahi/files/sahi-v35/20110719/install_sahi_v35_20110719.jar/download

To install it, execute the following command where you have the previously download file::

    $ java -jar install_sahi_v35_20110719.jar

You can also see the instructions in sahi's page at:
http://sahi.co.in/w/using-sahi


Run the Scripts
---------------

Once installed the program you have two kinds of run:

* Graphical: Follow the instructions at: http://sahi.co.in/w/using-sahi

* Console:

  * To run sahi scripts, you need to start Sahi::

    $ start_sahi.sh

  * And inside ``scripts/functional-tests/`` you can run them with::

    $ testrunner.sh yourtest.sah <initial-url> <browser>

.. WARNING::

    If you modify sahi default installation path (``~/sahi/``), you must
    change the path in ``scripts/functional-tests/sahi-common-env.sh``

It's possible run more than one script at the same time using a file.suite you
can see some information in:
http://sahi.co.in/w/Running+multiple+tests+in+batch+mode

See more information about how to run at: http://sahi.co.in/w/using-sahi
